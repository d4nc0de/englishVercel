<p-toast></p-toast>

<div class="card">
    <h3>Semanas para {{ tipoPrograma(3) }}</h3>
    <p-table [value]="semanasOutside" [tableStyle]="{ 'min-width': '50rem' }">
        <ng-template #header>
            <tr>
                <th>ID</th>
                <th>#Semana</th>
                <th>Fecha inicio</th>
                <th>Fecha fin</th>
            </tr>
        </ng-template>
        <ng-template #body let-semana>
            <tr>
                <td>{{ semana.calendariosemanalprogramaid }}</td>
                <td>{{ semana.numero_semana }}</td>
                <td>{{ semana.fecha_inicio | date }}</td>
                <td>{{ semana.fecha_fin | date }}</td>
            </tr>
        </ng-template>
    </p-table>
</div>
<div class="card" *ngIf="!outsideExists">
    <div class="mb-5">
        <div>
            <label for="fecha" class="block font-bold mb-3">Fecha Inicio</label>
            <p-datepicker [(ngModel)]="fechaInicioOutside" [minDate]="minDate" (ngModelChange)="onChangeOutsideDate($event)"/>
            <small class="text-red-500" *ngIf="!fechaInicioOutside">La fecha es obligatoria.</small>
        </div>
        <p-floatlabel variant="on" class="mt-4">
            <p-inputnumber
                id="outsideNSemanas"
                [(ngModel)]="outsideNSemanas"
                autocomplete="off"
                (ngModelChange)="onChangeOutsideNumber($event)"
                [min]="0"
                [disabled] ="!fechaInicioOutside"
            />
            <label for="outsideNSemanas">Número de Semanas</label>
        </p-floatlabel>
    </div>
    <p-button label="Generar" icon="pi pi-save" severity="success" [disabled]="!canGenerateOutside()" (onClick)="generateOutside()" />
</div>

<div class="card">
    <h3>Semanas para {{ tipoPrograma(2) }}</h3>
    <p-table [value]="semanasInside" [tableStyle]="{ 'min-width': '50rem' }">
        <ng-template #header>
            <tr>
                <th>ID</th>
                <th>#Semana</th>
                <th>Fecha inicio</th>
                <th>Fecha fin</th>
            </tr>
        </ng-template>
        <ng-template #body let-semana>
            <tr>
                <td>{{ semana.calendariosemanalprogramaid }}</td>
                <td>{{ semana.numero_semana }}</td>
                <td>{{ semana.fecha_inicio | date }}</td>
                <td>{{ semana.fecha_fin | date }}</td>
            </tr>
        </ng-template>
    </p-table>
</div>
<div class="card" *ngIf="!insideExists">
    <div class="mb-5">
        <div>
            <label for="fecha" class="block font-bold mb-3">Fecha Inicio</label>
            <p-datepicker [(ngModel)]="fechaInicioInside" [minDate]="minDate" (ngModelChange)="onChangeInsideDate($event)"/>
            <small class="text-red-500" *ngIf="!fechaInicioInside">La fecha es obligatoria.</small>
        </div>
        <p-floatlabel variant="on" class="mt-4">
            <p-inputnumber
                id="insideNSemanas"
                [(ngModel)]="insideNSemanas"
                autocomplete="off"
                (ngModelChange)="onChangeInsideNumber($event)"
                [min]="0"
                [disabled] ="!fechaInicioInside"
            />
            <label for="insideNSemanas">Número de Semanas</label>
        </p-floatlabel>
    </div>
    <p-button label="Generar" icon="pi pi-save" severity="success" [disabled]="!canGenerateInside()" (onClick)="generateInside()" />
</div>